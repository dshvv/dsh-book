---
hide_title: true
---

import CodeBlock from "@theme/CodeBlock";
import actionCreator from "!!raw-loader!/src/components/DocsRedux/ToolkitApp/store/action-creator.js";
import store from "!!raw-loader!/src/components/DocsRedux/ToolkitApp/store/index.js";

ğŸ‘‰[redux-toolkit å®˜æ–¹æ–‡æ¡£](https://redux-toolkit.js.org) ğŸ‘ˆ

## è¿™æ˜¯å•¥

redux-toolkit æ˜¯ Redux å®˜æ–¹å‡ºçš„å·¥å…·åŒ…ï¼Œç”¨äºé«˜æ•ˆçš„ Redux å¼€å‘ã€‚

```shell
yarn add @reduxjs/toolkit
```

## chrome æ’ä»¶æ”¯æŒ

åŸç”Ÿçš„å†™æ³•ä¸æ”¯æŒæµè§ˆå™¨ä½¿ç”¨æ’ä»¶è¿›è¡Œè·Ÿè¸ª debugã€‚redux-toolkit åˆ›å»ºçš„ store åˆ™å¯ä»¥
![3.1](/img/redux/3.1.png)

```jsx title="/src/store/index.jsx"
import { configureStore } from "@reduxjs/toolkit";

// state
const initialState = {
  msg: "å¼ ä¸‰",
};

// reducer
const reducer = (state = initialState, action) => {
  switch (action.type) {
    case "SET_MSG":
      return { ...state, ...{ msg: action.payload } };
    default:
      return state;
  }
};

// store
export default configureStore({ reducer });
```

![3.2](/img/redux/3.2.gif)

## ç¼–å†™ action creator

<CodeBlock language="js" title="src/store/action-creator.js">
  {actionCreator}
</CodeBlock>

## ç¼–å†™ reducer

<CodeBlock language="js" title="src/store/index.js">
  {store}
</CodeBlock>

## ä½¿ç”¨åˆ‡ç‰‡

å½“ç„¶è¿˜æœ‰æ›´è¿›ä¸€æ­¥çš„ä¼˜åŒ–å†™æ³•ï¼Œå°±æ˜¯åˆ‡ç‰‡ Sliceã€‚  
å·¥å…·åŒ…æä¾›ä¸€ä¸ª createSlice å‡½æ•°ï¼Œå®ƒæ¥å—åˆå§‹çŠ¶æ€ã€reducer å‡½æ•°çš„å¯¹è±¡ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆ reducer å’Œ action creators å’Œ action typesã€‚  
å¦‚æ­¤ä¸€æ¥ä¾¿ä¸å†éœ€è¦è¾…åŠ©å‡½æ•°`creatActionCreator`ã€`creatReducer`ï¼Œä»¥åŠå®šä¹‰`action-creator`äº†ã€‚
æ¥è®©æˆ‘ä»¬ä½¿ç”¨åˆ‡ç‰‡æ¥å®šä¹‰ä¸€ä¸ª store

```jsx title="/src/store/index.jsx"
import { configureStore, createSlice } from "@reduxjs/toolkit";

// state
const initialState = {
  msg: "å¼ ä¸‰",
};

// slice
// sliceåŒ…å« actionã€reducer,å¦‚æœæœ‰éœ€è¦å¯ä»¥åæœŸç»“æ„å‡ºæ¥ç”¨
const slice = createSlice({
  name: "app",
  initialState,
  reducers: {
    setMsg(state, action) {
      state.msg = action.payload;
    },
  },
});

// actionCreator
// å·¥å…·ä¼šæ ¹æ®åˆ‡ç‰‡é‡Œçš„reducersè‡ªåŠ¨ç”Ÿæˆä¸å…¶åŒåçš„actionCreator
// actionCreatoré€šè¿‡ï¼ˆåŒæ ·è‡ªåŠ¨ç”Ÿæˆçš„ï¼‰typeå’Œreducerè¿›è¡Œå…³è”ï¼Œæ¥è¾¾åˆ°æ›´æ–°stateçš„ç›®çš„
export const { setMsg } = slice.actions;

// store
export default configureStore({
  reducer: slice.reducer,
});
```
