"use strict";(self.webpackChunkdsh_book=self.webpackChunkdsh_book||[]).push([[754],{3410:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>u,default:()=>m,frontMatter:()=>s,metadata:()=>d,toc:()=>p});var a=n(7462),r=(n(7294),n(3905)),l=n(5488),o=n(5162);var i=n(814);const s={title:"\u7b2c5.2\u7ae0 \u6253\u5305\u5668",hide_title:!0},u=void 0,d={unversionedId:"\u7b2c5\u7ae0_\u5de5\u7a0b\u5316/\u7b2c5.2\u7ae0_\u6253\u5305\u5668",id:"\u7b2c5\u7ae0_\u5de5\u7a0b\u5316/\u7b2c5.2\u7ae0_\u6253\u5305\u5668",title:"\u7b2c5.2\u7ae0 \u6253\u5305\u5668",description:"webpack",source:"@site/docs/fe/\u7b2c5\u7ae0_\u5de5\u7a0b\u5316/\u7b2c5.2\u7ae0_\u6253\u5305\u5668.mdx",sourceDirName:"\u7b2c5\u7ae0_\u5de5\u7a0b\u5316",slug:"/\u7b2c5\u7ae0_\u5de5\u7a0b\u5316/\u7b2c5.2\u7ae0_\u6253\u5305\u5668",permalink:"/dsh-book/fe/\u7b2c5\u7ae0_\u5de5\u7a0b\u5316/\u7b2c5.2\u7ae0_\u6253\u5305\u5668",draft:!1,tags:[],version:"current",frontMatter:{title:"\u7b2c5.2\u7ae0 \u6253\u5305\u5668",hide_title:!0},sidebar:"tutorialSidebar",previous:{title:"\u7b2c5.1\u7ae0 \u8f6c\u6362\u5668",permalink:"/dsh-book/fe/\u7b2c5\u7ae0_\u5de5\u7a0b\u5316/\u7b2c5.1\u7ae0_\u8f6c\u6362\u5668"}},c={},p=[{value:"webpack",id:"webpack",level:3},{value:"rollup",id:"rollup",level:3},{value:"esbuild",id:"esbuild",level:3}],k={toc:p};function m(t){let{components:e,...s}=t;return(0,r.kt)("wrapper",(0,a.Z)({},k,s,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"webpack"},"webpack"),(0,r.kt)("p",null,"\u6a21\u5757\u6253\u5305\u5668\uff0c\u66f4\u591a\u8bf7\u770b",(0,r.kt)("a",{parentName:"p",href:"https://webpack.docschina.org"},"\u5b98\u7f51\u6559\u7a0b"),"\u3002",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.cnblogs.com/dingshaohua/p/8371018.html"},"\u6a21\u5757\u5316\u6280\u672f")," 2015 \u5e74 \u5728\u524d\u7aef\u5174\u8d77\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u4f7f\u7528\u6b64\u6280\u672f\uff0c\u53ef\u4ee5\u8ba9\u4ee3\u7801\u53d8\u6574\u6d01\u3001\u6e05\u6670\u3002"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"index.html",label:"index.html",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<button>1+2=?</button>\n<script src="./index.js"><\/script>\n'))),(0,r.kt)(o.Z,{value:"index.js",label:"index.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const btn = document.querySelector("button");\n\nbtn.onclick = async () => {\n  const { add } = await import("./utils.js");\n  const res = add(1, 2);\n  console.log(res);\n};\n'))),(0,r.kt)(o.Z,{value:"utils.js",label:"utils.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"export const add = (x, y) => {\n  return x + y;\n};\n")))),(0,r.kt)("p",null,"\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12\ud83d\ude12",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e0d\u8fc7\uff0c\u622a\u81f3\u5230 2022 \u5e74\uff0c",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e5f\u5c31\u6700\u65b0\u7684 chrome \u5b9e\u73b0\u4e86\u5bf9\u6a21\u5757\u5316\u7684\u652f\u6301\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u5176\u5b83\u6d4f\u89c8\u5668\u5747\u4f1a\u65e0\u6cd5\u8bc6\u522b\u3002",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("img",{alt:"fe-5.3",src:n(9001).Z,width:"500",height:"121"})),(0,r.kt)("p",null,"\ud83d\udc47\ud83d\udc47\ud83c\udf39\ud83c\udf3a\ud83c\udf3b\ud83c\udf3c\ud83c\udf38\ud83d\udc90\ud83d\udc47\ud83d\udc47",(0,r.kt)("br",{parentName:"p"}),"\n","\u4e8e\u662f\uff0cwebpack \u4e0a\u573a\u4e86\u3002"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u5f15\u7528\u5b98\u65b9\u7684\u8bdd\uff1awebpack \u662f js \u6a21\u5757\u5904\u7406\u7684\u5de5\u5177\u3001\u6a21\u5757\u6253\u5305\u5668\u3002\u5b83\u6839\u636e\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\u8fdb\u884c\u5206\u6790\uff0c\u7136\u540e\u751f\u6210\u5bf9\u5e94\u7684\u9759\u6001\u8d44\u6e90\u3002")),(0,r.kt)("p",null,"\u5982\u4e0a\u4ee3\u7801\uff0c\u7528 webpack \u5904\u7406\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"webpack ./index.js --mode=development\n")),(0,r.kt)("p",null,"\u547d\u4ee4\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u751f\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"dist"),"\u76ee\u5f55\uff0c\u8fd9\u91cc\u8fb9\u5c31\u662f\u5176\u5904\u7406\u597d\u7684 js \u6587\u4ef6\u3002\u6700\u540e ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," \u91cc\u5f15\u5165\u5373\u53ef\u3002"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"index.html",label:"index.html",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="index.html"',title:'"index.html"'},'<button>1+2=?</button>\n<script src="./dist/main.js"><\/script>\n'))),(0,r.kt)(o.Z,{value:"main.js",label:"main.js",mdxType:"TabItem"},(0,r.kt)(i.Z,{language:"js",title:"dist/main.js",mdxType:"CodeBlock"},'/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./index.js":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {\n\neval("const onClick =  async () => {\\r\\n  const { default: utils } = await __webpack_require__.e(/*! import() */ \\"utils_js\\").then(__webpack_require__.bind(__webpack_require__, /*! ./utils */ \\"./utils.js\\"));\\r\\n  const res = utils.add(1, 2);\\r\\n  console.log(res);\\r\\n};\\r\\ndocument.querySelector(\'button\').onclick = onClick;\\r\\n\\n\\n//# sourceURL=webpack://demo/./index.js?");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = __webpack_modules__;\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/ensure chunk */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.f = {};\n/******/ \t\t// This file contains only the entry chunk.\n/******/ \t\t// The chunk loading function for additional chunks\n/******/ \t\t__webpack_require__.e = (chunkId) => {\n/******/ \t\t\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n/******/ \t\t\t\t__webpack_require__.f[key](chunkId, promises);\n/******/ \t\t\t\treturn promises;\n/******/ \t\t\t}, []));\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/get javascript chunk filename */\n/******/ \t(() => {\n/******/ \t\t// This function allow to reference async chunks\n/******/ \t\t__webpack_require__.u = (chunkId) => {\n/******/ \t\t\t// return url for filenames based on template\n/******/ \t\t\treturn "" + chunkId + ".js";\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/global */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.g = (function() {\n/******/ \t\t\tif (typeof globalThis === \'object\') return globalThis;\n/******/ \t\t\ttry {\n/******/ \t\t\t\treturn this || new Function(\'return this\')();\n/******/ \t\t\t} catch (e) {\n/******/ \t\t\t\tif (typeof window === \'object\') return window;\n/******/ \t\t\t}\n/******/ \t\t})();\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/load script */\n/******/ \t(() => {\n/******/ \t\tvar inProgress = {};\n/******/ \t\tvar dataWebpackPrefix = "demo:";\n/******/ \t\t// loadScript function to load a script via script tag\n/******/ \t\t__webpack_require__.l = (url, done, key, chunkId) => {\n/******/ \t\t\tif(inProgress[url]) { inProgress[url].push(done); return; }\n/******/ \t\t\tvar script, needAttach;\n/******/ \t\t\tif(key !== undefined) {\n/******/ \t\t\t\tvar scripts = document.getElementsByTagName("script");\n/******/ \t\t\t\tfor(var i = 0; i < scripts.length; i++) {\n/******/ \t\t\t\t\tvar s = scripts[i];\n/******/ \t\t\t\t\tif(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t\tif(!script) {\n/******/ \t\t\t\tneedAttach = true;\n/******/ \t\t\t\tscript = document.createElement(\'script\');\n/******/ \t\t\n/******/ \t\t\t\tscript.charset = \'utf-8\';\n/******/ \t\t\t\tscript.timeout = 120;\n/******/ \t\t\t\tif (__webpack_require__.nc) {\n/******/ \t\t\t\t\tscript.setAttribute("nonce", __webpack_require__.nc);\n/******/ \t\t\t\t}\n/******/ \t\t\t\tscript.setAttribute("data-webpack", dataWebpackPrefix + key);\n/******/ \t\t\t\tscript.src = url;\n/******/ \t\t\t}\n/******/ \t\t\tinProgress[url] = [done];\n/******/ \t\t\tvar onScriptComplete = (prev, event) => {\n/******/ \t\t\t\t// avoid mem leaks in IE.\n/******/ \t\t\t\tscript.onerror = script.onload = null;\n/******/ \t\t\t\tclearTimeout(timeout);\n/******/ \t\t\t\tvar doneFns = inProgress[url];\n/******/ \t\t\t\tdelete inProgress[url];\n/******/ \t\t\t\tscript.parentNode && script.parentNode.removeChild(script);\n/******/ \t\t\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n/******/ \t\t\t\tif(prev) return prev(event);\n/******/ \t\t\t}\n/******/ \t\t\t;\n/******/ \t\t\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: \'timeout\', target: script }), 120000);\n/******/ \t\t\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n/******/ \t\t\tscript.onload = onScriptComplete.bind(null, script.onload);\n/******/ \t\t\tneedAttach && document.head.appendChild(script);\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/publicPath */\n/******/ \t(() => {\n/******/ \t\tvar scriptUrl;\n/******/ \t\tif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";\n/******/ \t\tvar document = __webpack_require__.g.document;\n/******/ \t\tif (!scriptUrl && document) {\n/******/ \t\t\tif (document.currentScript)\n/******/ \t\t\t\tscriptUrl = document.currentScript.src\n/******/ \t\t\tif (!scriptUrl) {\n/******/ \t\t\t\tvar scripts = document.getElementsByTagName("script");\n/******/ \t\t\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\t// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n/******/ \t\t// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.\n/******/ \t\tif (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");\n/******/ \t\tscriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\\?.*$/, "").replace(/\\/[^\\/]+$/, "/");\n/******/ \t\t__webpack_require__.p = scriptUrl;\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/jsonp chunk loading */\n/******/ \t(() => {\n/******/ \t\t// no baseURI\n/******/ \t\t\n/******/ \t\t// object to store loaded and loading chunks\n/******/ \t\t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n/******/ \t\t// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\n/******/ \t\tvar installedChunks = {\n/******/ \t\t\t"main": 0\n/******/ \t\t};\n/******/ \t\t\n/******/ \t\t__webpack_require__.f.j = (chunkId, promises) => {\n/******/ \t\t\t\t// JSONP chunk loading for javascript\n/******/ \t\t\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n/******/ \t\t\t\tif(installedChunkData !== 0) { // 0 means "already installed".\n/******/ \t\t\n/******/ \t\t\t\t\t// a Promise means "currently loading".\n/******/ \t\t\t\t\tif(installedChunkData) {\n/******/ \t\t\t\t\t\tpromises.push(installedChunkData[2]);\n/******/ \t\t\t\t\t} else {\n/******/ \t\t\t\t\t\tif(true) { // all chunks have JS\n/******/ \t\t\t\t\t\t\t// setup Promise in chunk cache\n/******/ \t\t\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n/******/ \t\t\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n/******/ \t\t\n/******/ \t\t\t\t\t\t\t// start chunk loading\n/******/ \t\t\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n/******/ \t\t\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n/******/ \t\t\t\t\t\t\tvar error = new Error();\n/******/ \t\t\t\t\t\t\tvar loadingEnded = (event) => {\n/******/ \t\t\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n/******/ \t\t\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n/******/ \t\t\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n/******/ \t\t\t\t\t\t\t\t\tif(installedChunkData) {\n/******/ \t\t\t\t\t\t\t\t\t\tvar errorType = event && (event.type === \'load\' ? \'missing\' : event.type);\n/******/ \t\t\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n/******/ \t\t\t\t\t\t\t\t\t\terror.message = \'Loading chunk \' + chunkId + \' failed.\\n(\' + errorType + \': \' + realSrc + \')\';\n/******/ \t\t\t\t\t\t\t\t\t\terror.name = \'ChunkLoadError\';\n/******/ \t\t\t\t\t\t\t\t\t\terror.type = errorType;\n/******/ \t\t\t\t\t\t\t\t\t\terror.request = realSrc;\n/******/ \t\t\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n/******/ \t\t\t\t\t\t\t\t\t}\n/******/ \t\t\t\t\t\t\t\t}\n/******/ \t\t\t\t\t\t\t};\n/******/ \t\t\t\t\t\t\t__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);\n/******/ \t\t\t\t\t\t} else installedChunks[chunkId] = 0;\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t};\n/******/ \t\t\n/******/ \t\t// no prefetching\n/******/ \t\t\n/******/ \t\t// no preloaded\n/******/ \t\t\n/******/ \t\t// no HMR\n/******/ \t\t\n/******/ \t\t// no HMR manifest\n/******/ \t\t\n/******/ \t\t// no on chunks loaded\n/******/ \t\t\n/******/ \t\t// install a JSONP callback for chunk loading\n/******/ \t\tvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n/******/ \t\t\tvar [chunkIds, moreModules, runtime] = data;\n/******/ \t\t\t// add "moreModules" to the modules object,\n/******/ \t\t\t// then flag all "chunkIds" as loaded and fire callback\n/******/ \t\t\tvar moduleId, chunkId, i = 0;\n/******/ \t\t\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n/******/ \t\t\t\tfor(moduleId in moreModules) {\n/******/ \t\t\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n/******/ \t\t\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n/******/ \t\t\t\t\t}\n/******/ \t\t\t\t}\n/******/ \t\t\t\tif(runtime) var result = runtime(__webpack_require__);\n/******/ \t\t\t}\n/******/ \t\t\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n/******/ \t\t\tfor(;i < chunkIds.length; i++) {\n/******/ \t\t\t\tchunkId = chunkIds[i];\n/******/ \t\t\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n/******/ \t\t\t\t\tinstalledChunks[chunkId][0]();\n/******/ \t\t\t\t}\n/******/ \t\t\t\tinstalledChunks[chunkId] = 0;\n/******/ \t\t\t}\n/******/ \t\t\n/******/ \t\t}\n/******/ \t\t\n/******/ \t\tvar chunkLoadingGlobal = self["webpackChunkdemo"] = self["webpackChunkdemo"] || [];\n/******/ \t\tchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\n/******/ \t\tchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can\'t be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__("./index.js");\n/******/ \t\n/******/ })()\n;')),(0,r.kt)(o.Z,{value:"utils_js.js",label:"utils_js.js",mdxType:"TabItem"},(0,r.kt)(i.Z,{language:"js",title:"dist/utils_js.js",mdxType:"CodeBlock"},'"use strict";\n/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n(self["webpackChunkdemo"] = self["webpackChunkdemo"] || []).push([["utils_js"],{\n\n/***/ "./utils.js":\n/*!******************!*\\\n  !*** ./utils.js ***!\n  \\******************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\"default\\": () => (__WEBPACK_DEFAULT_EXPORT__)\\n/* harmony export */ });\\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\\r\\n  add(x, y) {\\r\\n    return x + y;\\r\\n  }\\r\\n});\\r\\n\\n\\n//# sourceURL=webpack://demo/./utils.js?");\n\n/***/ })\n\n}]);'))),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230 webpack \u5bf9\u5206\u5305\u7684\u5904\u7406\uff0c\u7279\u522b\u7684\u590d\u6742,\n\u5b8c\u5168\u81ea\u5df1\u5b9e\u73b0\u4e86\u4e00\u5957\u6a21\u5757\u5316\u5904\u7406\u673a\u5236\u65b9\u6848\uff0c\u6765\u517c\u5bb9\u4e2a\u5927\u6d4f\u89c8\u5668\u3002"),(0,r.kt)("h3",{id:"rollup"},"rollup"),(0,r.kt)("p",null,"\u6a21\u5757\u6253\u5305\u5668\uff0c\u66f4\u591a\u8bf7\u770b",(0,r.kt)("a",{parentName:"p",href:"https://www.rollupjs.com"},"\u5b98\u7f51\u6559\u7a0b"),"\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u548c webpack \u529f\u80fd\u57fa\u672c\u4e00\u6837\uff0c\u662f\u5176\u7ade\u54c1\u3002\u4e0d\u8fc7\u548c webpack \u7684\u533a\u522b\u5728\u4e8e\uff1a",(0,r.kt)("br",{parentName:"p"}),"\n","1\u3001\u5b83\u5c0f\u5de7\uff0c\u4ec5\u662f\u6b3e ESM \u6253\u5305\u5668\uff0c\u65e0\u5176\u5b83\u529f\u80fd\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","2\u3001\u5b83\u5229\u7528 ESM \u652f\u6491\uff0c\u975e webpack \u7279\u6b8a\u5904\u7406\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","3\u3001\u5b83\u4e0d\u652f\u6301\u6a21\u5757\u7684 HMR \u70ed\u66f4\u65b0\u3002"),(0,r.kt)("p",null,"\u62ff\u4e0a\u9762 webpack \u90a3\u4e2a\u4f8b\u5b50\uff0c\u6539\u4e3a rollup \u7f16\u8bd1"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# rollup \u5165\u53e3\u6587\u4ef6    -d \u8f93\u51fa\u76ee\u5f55\n  rollup .\\index.js  -d dist\n")),(0,r.kt)("p",null,"\u547d\u4ee4\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u751f\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"build"),"\u76ee\u5f55\uff0c\u8fd9\u91cc\u8fb9\u5c31\u662f\u5176\u5904\u7406\u597d\u7684 js \u6587\u4ef6\u3002\u6700\u540e ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," \u91cc\u5f15\u5165\u5373\u53ef\u3002"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"index.html",label:"index.html",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="index.html"',title:'"index.html"'},'<button>1+2=?</button>\n<script src="./build/index.js"><\/script>\n'))),(0,r.kt)(o.Z,{value:"index.js",label:"index.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="build/index.js"',title:'"build/index.js"'},'const btn = document.querySelector("button");\n\nbtn.onclick = async () => {\n  const { add } = await import("./utils-123.js");\n  const res = add(1, 2);\n  console.log(res);\n};\n'))),(0,r.kt)(o.Z,{value:"utils-5c8046dd.js",label:"utils-123.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="build/utils-123.js"',title:'"build/utils-123.js"'},"const add = (x, y) => {\n  return x + y;\n};\n\nexport { add };\n")))),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u5230\uff0c\u6253\u5305\u540e\u7684\u4ee3\u7801\u548c\u6e90\u7801\u6ca1\u4ec0\u4e48\u533a\u522b\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u4ee3\u7801\u7684\u6267\u884c\u4ecd\u4f9d\u8d56\u4e8e\u6d4f\u89c8\u5668\u672c\u8eab\u5bf9\u6a21\u5757\u5316\u7684\u652f\u6301\uff0c\u6240\u4ee5\u6211\u89c9\u5f97\u5b83\u5904\u7406\u4e86\u4e2a\u5bc2\u5bde \ud83d\ude02\u3002"),(0,r.kt)("p",null,"\ud83d\udce3 \u5f97\u51fa\u7ed3\u8bba\uff0cwebpack \u548c babel \u5e94\u7528\u573a\u666f\u4e0d\u540c\uff1a\n\u5e94\u7528\u5f00\u53d1\u7528 \u524d\u8005\uff0c\u7c7b\u5e93\u7684\u5f00\u53d1\u5219\u7528 \u540e\u8005"),(0,r.kt)("h3",{id:"esbuild"},"esbuild"),(0,r.kt)("p",null,"\u6a21\u5757\u6253\u5305\u5668\uff0c\u540c\u4e8b\u4e5f\u5177\u5907babel\u7684\u529f\u80fd\u3002"),(0,r.kt)("p",null,"\u62ff\u4e0a\u9762 webpack \u90a3\u4e2a\u4f8b\u5b50\uff0c\u6539\u4e3a esbuild \u7f16\u8bd1\n--bundle \u8868\u793a\u9700\u8981\u7f16\u8bd1\uff0c\u9ed8\u8ba4\u539f\u6837\u8f93\u51fa",(0,r.kt)("br",{parentName:"p"}),"\n","--splitting \u4ee3\u8868\u5206\u5272\u4ee3\u7801\uff0c\u9ed8\u8ba4\u4e0d\u5206\u5272",(0,r.kt)("br",{parentName:"p"}),"\n","--format=esm \u4ee3\u8868\u8f93\u51fa\u6a21\u5757\u7c7b\u578b\uff0csplitting\u4ec5\u652f\u6301esm   "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"  esbuild ./src/index.js --bundle --outdir=build --splitting --format=esm\n")),(0,r.kt)("p",null,"\u547d\u4ee4\u6267\u884c\u5b8c\u6210\u540e\uff0c\u4f1a\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u751f\u6210",(0,r.kt)("inlineCode",{parentName:"p"},"build"),"\u76ee\u5f55\uff0c\u8fd9\u91cc\u8fb9\u5c31\u662f\u5176\u5904\u7406\u597d\u7684 js \u6587\u4ef6\u3002\u6700\u540e ",(0,r.kt)("inlineCode",{parentName:"p"},"index.html")," \u91cc\u5f15\u5165\u5373\u53ef\u3002"),(0,r.kt)(l.Z,{mdxType:"Tabs"},(0,r.kt)(o.Z,{value:"index.html",label:"index.html",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html",metastring:'title="index.html"',title:'"index.html"'},'<button>1+2=?</button>\n<script src="./build/index.js"><\/script>\n'))),(0,r.kt)(o.Z,{value:"index.js",label:"index.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="build/index.js"',title:'"build/index.js"'},'// src/index.js\nvar btn = document.querySelector("button");\nbtn.onclick = async () => {\n  const { add } = await import("./utils-YOWK4GEG.js");\n  const res = add(1, 2);\n  console.log(res);\n};\n'))),(0,r.kt)(o.Z,{value:"utils-5c8046dd.js",label:"utils-123.js",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="build/utils-123.js"',title:'"build/utils-123.js"'},"// src/utils.js\nvar add = (x, y) => {\n  return x + y;\n};\nexport {\n  add\n};\n\n")))),(0,r.kt)("p",null,"\u53ef\u4ee5\u770b\u51fa \u8ddfrollup\u5904\u7406\u6a21\u5757\u5316\u7684\u65b9\u5f0f \u5f02\u66f2\u540c\u5de5\u4e4b\u5999\uff01\n",(0,r.kt)("a",{parentName:"p",href:"https://esbuild.github.io/"},"https://esbuild.github.io/")))}m.isMDXComponent=!0},5162:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(7294),r=n(6010);const l="tabItem_Ymn6";function o(t){let{children:e,hidden:n,className:o}=t;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(l,o),hidden:n},e)}},5488:(t,e,n)=>{n.d(e,{Z:()=>k});var a=n(7462),r=n(7294),l=n(6010),o=n(2389),i=n(7392),s=n(7094),u=n(2466);const d="tabList__CuJ",c="tabItem_LNqP";function p(t){var e,n;const{lazy:o,block:p,defaultValue:k,values:m,groupId:_,className:b}=t,h=r.Children.map(t.children,(t=>{if((0,r.isValidElement)(t)&&"value"in t.props)return t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof t.type?t.type:t.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=m?m:h.map((t=>{let{props:{value:e,label:n,attributes:a}}=t;return{value:e,label:n,attributes:a}})),v=(0,i.l)(f,((t,e)=>t.value===e.value));if(v.length>0)throw new Error('Docusaurus error: Duplicate values "'+v.map((t=>t.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const g=null===k?k:null!=(e=null!=k?k:null==(n=h.find((t=>t.props.default)))?void 0:n.props.value)?e:h[0].props.value;if(null!==g&&!f.some((t=>t.value===g)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+g+'" but none of its children has the corresponding value. Available values are: '+f.map((t=>t.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:w,setTabGroupChoices:y}=(0,s.U)(),[x,j]=(0,r.useState)(g),T=[],{blockElementScrollPositionUntilNextRender:N}=(0,u.o5)();if(null!=_){const t=w[_];null!=t&&t!==x&&f.some((e=>e.value===t))&&j(t)}const I=t=>{const e=t.currentTarget,n=T.indexOf(e),a=f[n].value;a!==x&&(N(e),j(a),null!=_&&y(_,String(a)))},C=t=>{var e;let n=null;switch(t.key){case"ArrowRight":{var a;const e=T.indexOf(t.currentTarget)+1;n=null!=(a=T[e])?a:T[0];break}case"ArrowLeft":{var r;const e=T.indexOf(t.currentTarget)-1;n=null!=(r=T[e])?r:T[T.length-1];break}}null==(e=n)||e.focus()};return r.createElement("div",{className:(0,l.Z)("tabs-container",d)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":p},b)},f.map((t=>{let{value:e,label:n,attributes:o}=t;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:x===e?0:-1,"aria-selected":x===e,key:e,ref:t=>T.push(t),onKeyDown:C,onFocus:I,onClick:I},o,{className:(0,l.Z)("tabs__item",c,null==o?void 0:o.className,{"tabs__item--active":x===e})}),null!=n?n:e)}))),o?(0,r.cloneElement)(h.filter((t=>t.props.value===x))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},h.map(((t,e)=>(0,r.cloneElement)(t,{key:e,hidden:t.props.value!==x})))))}function k(t){const e=(0,o.Z)();return r.createElement(p,(0,a.Z)({key:String(e)},t))}},9001:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/5.3-fa301b2a7ca63b6c92893fecc8436715.jpg"}}]);